================================================================================
ESTRUCTURA DEL CRUD DE REGISTROS_MANTENIMIENTO
================================================================================

ğŸ“ web-ds502-g3/
â”‚
â”œâ”€â”€ ğŸ“ db/
â”‚   â”œâ”€â”€ bd_GATI_ds502.sql âœ… (ACTUALIZADO - incluye SPs de mantenimiento)
â”‚   â””â”€â”€ sp_registros_mantenimiento.sql âœ… (NUEVO - SPs independientes)
â”‚
â”œâ”€â”€ ğŸ“ mantenimiento/ âœ… (NUEVO)
â”‚   â””â”€â”€ index.php â†’ RedirecciÃ³n a listar_mantenimientos.php
â”‚
â”œâ”€â”€ ğŸ“ pages/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ model/
â”‚   â”‚   â”œâ”€â”€ registros_mantenimiento.php âœ… (NUEVO - Clase modelo)
â”‚   â”‚   â””â”€â”€ crudregistrosmantenimiento.php âœ… (NUEVO - Clase CRUD)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ controller/
â”‚   â”‚   â”œâ”€â”€ ctr_grabar_mantenimiento.php âœ… (NUEVO - Registrar/Editar)
â”‚   â”‚   â”œâ”€â”€ ctr_filtrar_mantenimiento.php âœ… (NUEVO - Filtrar)
â”‚   â”‚   â”œâ”€â”€ ctr_mostrar_mantenimiento.php âœ… (NUEVO - Mostrar detalles)
â”‚   â”‚   â”œâ”€â”€ ctr_consultar_mantenimiento.php âœ… (NUEVO - Consultar JSON)
â”‚   â”‚   â””â”€â”€ ctr_get_form_mantenimiento.php âœ… (NUEVO - Form ediciÃ³n AJAX)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ view/
â”‚       â””â”€â”€ ğŸ“ mantenimiento/ âœ… (NUEVO)
â”‚           â”œâ”€â”€ listar_mantenimientos.php â†’ Lista completa
â”‚           â”œâ”€â”€ registrar_mantenimiento.php â†’ Formulario registro
â”‚           â”œâ”€â”€ editar_mantenimiento.php â†’ Formulario ediciÃ³n
â”‚           â”œâ”€â”€ mostrar_mantenimiento.php â†’ Vista detalles
â”‚           â”œâ”€â”€ consultar_mantenimiento.php â†’ BÃºsqueda por ID
â”‚           â”œâ”€â”€ filtrar_mantenimiento.php â†’ Filtrado dinÃ¡mico
â”‚           â””â”€â”€ borrar_mantenimiento.php â†’ EliminaciÃ³n
â”‚
â”œâ”€â”€ INSTRUCCIONES_MANTENIMIENTO.md âœ… (NUEVO - DocumentaciÃ³n)
â””â”€â”€ ESTRUCTURA_MANTENIMIENTO.txt âœ… (NUEVO - Este archivo)

================================================================================
PROCEDIMIENTOS ALMACENADOS CREADOS
================================================================================

1. sp_listar_mantenimientos()
   â””â”€ Lista todos los registros con informaciÃ³n de activos y empleados

2. sp_buscar_mantenimiento_por_id(p_id_mantenimiento)
   â””â”€ Busca un registro especÃ­fico por ID

3. sp_registrar_mantenimiento(p_id_activo, p_fecha_servicio, p_descripcion, 
                               p_costo, p_realizado_por)
   â””â”€ Inserta un nuevo registro de mantenimiento

4. sp_editar_mantenimiento(p_id_mantenimiento, p_id_activo, p_fecha_servicio, 
                           p_descripcion, p_costo, p_realizado_por)
   â””â”€ Actualiza un registro existente

5. sp_borrar_mantenimiento(p_id_mantenimiento)
   â””â”€ Elimina un registro (borrado fÃ­sico)

6. sp_filtrar_mantenimientos(p_termino)
   â””â”€ Filtra registros por serial, activo, empleado o descripciÃ³n

================================================================================
FLUJO DE NAVEGACIÃ“N
================================================================================

INICIO
  â†“
/mantenimiento/ â†’ index.php
  â†“
listar_mantenimientos.php
  â”œâ”€â†’ [Registrar] â†’ registrar_mantenimiento.php
  â”‚                    â†“
  â”‚                 ctr_grabar_mantenimiento.php (tipo=r)
  â”‚                    â†“
  â”‚                 sp_registrar_mantenimiento()
  â”‚                    â†“
  â”‚                 VOLVER A LISTA
  â”‚
  â”œâ”€â†’ [Consultar] â†’ consultar_mantenimiento.php
  â”‚                    â†“ (AJAX)
  â”‚                 ctr_consultar_mantenimiento.php
  â”‚                    â†“
  â”‚                 sp_buscar_mantenimiento_por_id()
  â”‚
  â”œâ”€â†’ [Filtrar] â†’ filtrar_mantenimiento.php
  â”‚                  â†“ (AJAX)
  â”‚               ctr_filtrar_mantenimiento.php
  â”‚                  â†“
  â”‚               sp_filtrar_mantenimientos()
  â”‚
  â”œâ”€â†’ [Ver ğŸ‘] â†’ mostrar_mantenimiento.php
  â”‚                 â†“
  â”‚              sp_buscar_mantenimiento_por_id()
  â”‚
  â”œâ”€â†’ [Editar âœ] â†’ editar_mantenimiento.php
  â”‚                   â†“
  â”‚                ctr_grabar_mantenimiento.php (tipo=e)
  â”‚                   â†“
  â”‚                sp_editar_mantenimiento()
  â”‚                   â†“
  â”‚                VOLVER A LISTA
  â”‚
  â””â”€â†’ [Borrar ğŸ—‘] â†’ borrar_mantenimiento.php
                      â†“
                   sp_borrar_mantenimiento()
                      â†“
                   VOLVER A LISTA

================================================================================
CARACTERÃSTICAS IMPLEMENTADAS
================================================================================

âœ… CRUD Completo (Create, Read, Update, Delete)
âœ… Listado con tabla Bootstrap
âœ… Formularios de registro y ediciÃ³n
âœ… Vista de detalles completa
âœ… BÃºsqueda por ID con AJAX
âœ… Filtrado dinÃ¡mico con AJAX
âœ… Modales de confirmaciÃ³n para borrado
âœ… ValidaciÃ³n de formularios HTML5
âœ… IntegraciÃ³n con tablas relacionadas (activos, empleados)
âœ… Selectores dinÃ¡micos para activos y empleados
âœ… Formato de moneda para costos
âœ… Ordenamiento por fecha descendente
âœ… Mensajes de Ã©xito/error
âœ… NavegaciÃ³n intuitiva con botones
âœ… DiseÃ±o responsive con Bootstrap
âœ… Iconos Font Awesome

================================================================================
PATRÃ“N DE ARQUITECTURA SEGUIDO
================================================================================

MVC (Model-View-Controller) + Procedimientos Almacenados

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         VISTA (View)                         â”‚
â”‚  pages/view/mantenimiento/*.php                             â”‚
â”‚  - Interfaz de usuario con Bootstrap                        â”‚
â”‚  - Formularios HTML                                         â”‚
â”‚  - JavaScript/jQuery para AJAX                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTROLADOR (Controller)                  â”‚
â”‚  pages/controller/ctr_*.php                                 â”‚
â”‚  - Recibe peticiones HTTP/AJAX                              â”‚
â”‚  - Valida datos                                             â”‚
â”‚  - Invoca mÃ©todos del modelo                                â”‚
â”‚  - Retorna respuestas (HTML/JSON)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       MODELO (Model)                         â”‚
â”‚  pages/model/crudregistrosmantenimiento.php                 â”‚
â”‚  - LÃ³gica de negocio                                        â”‚
â”‚  - ConexiÃ³n a BD (extends Conexion)                        â”‚
â”‚  - Ejecuta procedimientos almacenados                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BASE DE DATOS (Database)                   â”‚
â”‚  MySQL - Procedimientos Almacenados                         â”‚
â”‚  - sp_listar_mantenimientos()                               â”‚
â”‚  - sp_registrar_mantenimiento()                             â”‚
â”‚  - sp_editar_mantenimiento()                                â”‚
â”‚  - sp_borrar_mantenimiento()                                â”‚
â”‚  - sp_buscar_mantenimiento_por_id()                         â”‚
â”‚  - sp_filtrar_mantenimientos()                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
COMPATIBILIDAD
================================================================================

âœ… Compatible con estructura existente del proyecto
âœ… No modifica archivos de otras tablas
âœ… Reutiliza clases existentes (CRUDActivos, CRUDEmpleado)
âœ… Sigue convenciones de nombres del proyecto
âœ… Integrado con sistema de autoload
âœ… Usa Bootstrap y Font Awesome existentes
âœ… Compatible con jQuery incluido en el proyecto

================================================================================
